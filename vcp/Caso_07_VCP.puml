@startuml
left to right direction

' ==========================================
' ECB
' ==========================================

class TelaControleRota <<boundary>> {
    +exibirPontoAtual(ponto: PontoEmbarque)
    +exibirProximoPonto(ponto: PontoEmbarque)
    +exibirMensagemUltimoPonto()
    +exibirErro(mensagem: String)
}

class ProximoPontoController <<controller>> {
    +consultarProximoPonto(rota: Rota): PontoEmbarque
}

class Rota <<entity>> {
    -id: UUID
    -nome: String
    -pontoAtual: PontoEmbarque
    -pontos: List<PontoEmbarque>
    -status: StatusRota
    +getPontoAtual(): PontoEmbarque
    +getPontos(): List<PontoEmbarque>
    +calcularProximoPonto(): PontoEmbarque
}

class PontoEmbarque <<entity>> {
    -id: UUID
    -nome: String
    -endereco: String
    -ordem: Integer
    +getNome(): String
    +getOrdem(): Integer
}

enum StatusRota <<entity>> {
    NAO_INICIADA
    EM_ANDAMENTO
    FINALIZADA
}

' ==========================================
' RELACIONAMENTOS
' ==========================================

TelaControleRota --> ProximoPontoController
ProximoPontoController --> Rota

Rota --> "0..*" PontoEmbarque
Rota --> PontoEmbarque : pontoAtual
Rota --> StatusRota

@enduml

' ============================================
' JUSTIFICATIVA DOS PADRÕES APLICADOS
' ============================================
'
' PADRÕES DE ANÁLISE:
' - BCE (Boundary-Controller-Entity): Separação entre
'   interface (TelaControleRota), lógica (ProximoPontoController)
'   e dados (Rota, PontoEmbarque).
' - GRASP Controller: ProximoPontoController coordena a
'   consulta do próximo ponto.
' - Information Expert: Rota é responsável por calcular
'   o próximo ponto pois conhece seus pontos e suas ordens.
'
' PADRÕES DE PROJETO:
' - Nenhum padrão de projeto é necessário neste caso.
'   O caso de uso é uma simples consulta sem necessidade
'   de notificação ou criação complexa de objetos.
'
' JUSTIFICATIVA:
' O método calcularProximoPonto() está em Rota (Information
' Expert) pois ela possui todas as informações necessárias:
' - Lista de pontos ordenados
' - Ponto atual
' O cálculo é simples: encontrar o ponto com ordem
' imediatamente superior ao ponto atual.
