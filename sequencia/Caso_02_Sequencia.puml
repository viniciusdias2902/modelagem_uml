@startuml

actor Aluno
participant ":TelaAutoCadastro" as TC <<boundary>>
participant ":AutoCadastroController" as ACC <<controller>>
participant ":AlunoRepository" as AR <<repository>>
participant ":Aluno" as A <<entity>>

== Realizar Cadastro ==

Aluno -> TC: acessarTela()
activate TC

TC -> TC: exibirFormulario()
TC --> Aluno: formulário

Aluno -> TC: preencherDados(nome, email, senha)
TC -> TC: obterDados()

TC -> ACC: realizarCadastro(dados)
activate ACC

ACC -> ACC: validarDados(dados)

ACC -> AR: findByEmail(email)
activate AR
AR --> ACC: null
deactivate AR

create A
ACC -> A: new(nome, email, senha)

ACC -> AR: save(aluno)
activate AR
AR --> ACC: alunoSalvo
deactivate AR

ACC --> TC: sucesso
deactivate ACC

TC -> TC: exibirMensagemSucesso()
TC --> Aluno: "Cadastro realizado com sucesso"
deactivate TC

@enduml

' ============================================
' JUSTIFICATIVA DOS PADRÕES NA SEQUÊNCIA
' ============================================
'
' GRASP Controller:
' - AutoCadastroController recebe a requisição da boundary
'   e coordena o fluxo de auto-cadastro.
'
' Information Expert:
' - Aluno é criado com seus próprios dados.
'
' Low Coupling:
' - TelaAutoCadastro não conhece a entidade diretamente,
'   toda comunicação passa pelo controller.
'
' High Cohesion:
' - AutoCadastroController foca apenas no cadastro de alunos.
'
' SEM FACTORY:
' - Diferente do UC01 (Cadastrar Usuário), aqui não há
'   variação de tipos. O auto-cadastro sempre cria um Aluno,
'   portanto não há necessidade do padrão Factory.